@import "tailwindcss";

@theme {
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
               Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

  --color-menace-cream: #E4D6C3;
  --color-menace-red:   #C63226;
  --color-menace-ink:   #0D110C;
}

/* quick probe styles */
.probe { @apply text-red-500; }
body { @apply bg-menace-ink text-menace-cream font-sans; }



/* ==== Tokens (Tailwind v4) ==================================== */
@theme {
  /* fonts */
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
               Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji",
               "Segoe UI Symbol";

  --font-metal: "Metal Mania", cursive, system-ui, -apple-system, "Segoe UI",
               Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji",
               "Segoe UI Symbol";

  /* brand colours */
  --color-menace-cream: #E4D6C3; /* text / light surfaces */
  --color-menace-red:   #C63226; /* primary / CTA */
  --color-menace-ink:   #0D110C; /* background */

  /* neutrals you might still use in places */
  --color-ink-800: #151914;
  --color-ink-700: #1b211b;

  /* elevation */
  --shadow-menace: 0 10px 30px -10px rgb(198 50 38 / 0.45);
}

/* ==== Base ===================================================== */
@layer base {
  html, body, #root { height: 100%; }

  body {
    @apply bg-menace-ink text-menace-cream antialiased font-sans;
  }

  /* type */
  h1, h2, h3, h4, h5, h6 { @apply font-semibold tracking-tight; }
  h1 { @apply text-3xl; }
  h2 { @apply text-2xl; }
  h3 { @apply text-xl; }

  /* links */
  a {
    @apply text-menace-cream/80 hover:text-menace-cream underline-offset-4 hover:underline transition-colors;
  }

  /* selection */
  ::selection { @apply bg-menace-red text-menace-cream; }

  /* forms baseline */
  input, textarea, select, button {
    @apply outline-none;
  }
}

/* ==== Components =============================================== */
@layer components {
  /* layout helpers */
  .shell {
    @apply min-h-dvh 
    /* bg-menace-ink  */
    text-menace-cream;
  }
  .header {
    @apply border-b border-white/10;
  }
  .footer {
    @apply border-t border-white/10 text-xs text-menace-cream/60;
  }
  .nav-link {
    @apply text-menace-cream/80 hover:text-menace-cream transition-colors;
  }

  /* cards */
  .card {
    @apply rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm;
  }
  .card-hover {
    @apply hover:border-white/20 transition-colors;
  }
  /* section headers */
  .section-title {
    @apply text-xl font-semibold flex items-center gap-2;
  }
  .section-subtitle {
    @apply text-sm text-menace-cream/70;
  }

  
  .btn,
  .btn-primary,
  .btn-ghost,
  .btn-outline {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;           /* 8px 16px */
    border-radius: 0.75rem;         /* 12px: consistent across variants */
    border: 1px solid transparent;  /* reserve border space for all variants */
    box-sizing: border-box;         /* border doesn't change total size */
    min-height: 40px;               /* uniform button height */
    border-radius: 0.75rem;         /* enforce same radius */
    font-weight: 600;
    line-height: 1;
    text-decoration: none;     /* anchors shouldn't underline like links */
  }

  .btn:disabled { opacity: .5; cursor: not-allowed; }

  .btn-primary {
    background: #C63226;       /* menace red */
    color: #E4D6C3;            /* menace cream */
    box-shadow: 0 10px 30px -10px rgb(198 50 38 / 0.45);
  }
  .btn-primary:hover { filter: brightness(1.1); }

  .btn-ghost {
    background: transparent;
    color: rgba(228,214,195,0.85);
  }
  .btn-ghost:hover { background: rgba(255,255,255,0.05); }

  .btn-outline {
    color: #E4D6C3;
    border-color: rgba(228,214,195,0.25); /* uses reserved border */
  }
  .btn-outline:hover {
    border-color: rgba(228,214,195,0.40);
    background: rgba(255,255,255,0.05);
  }

  .btn-icon { width: 40px; min-width: 40px; padding: 0; }


  /* ---------- Forms ---------- */
  .label {
    @apply block text-sm font-medium text-menace-cream/80;
  }


  .input {
    @apply w-full px-4 py-3 rounded-xl
           bg-white/5 text-menace-cream placeholder-menace-cream/40
           border border-white/10
           transition focus:ring-2 focus:ring-menace-red/60 focus:border-menace-red/50;
  }

  .input:disabled {
    @apply opacity-60 cursor-not-allowed;
  }
  
  .field {
    @apply space-y-2;
  }
  .form-card {
    @apply rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-6 space-y-4;
  }
}
@layer utilities {
  .glass { @apply bg-white/5 backdrop-blur-sm border border-white/10; }
  .muted { @apply text-menace-cream/70; }
  .hard-shadow { box-shadow: 0 12px 40px -8px rgb(0 0 0 / 0.45); }
}


@keyframes dripDown {
  0%   { transform: translate(-50%, -100%); opacity: 0; }
  2%   { transform: translate(-50%, 0); opacity: 1; width: 20px; height: 20px; }
  3%   { transform: translate(-50%, 0); width: 100px; height: 100px; }
  10%  { transform: translate(-50%, 0); width: 20px; height: 60px; }
  90%  { transform: translate(-50%, 70vh); opacity: 0.02; border-radius: 50% 50% 50% 50% / 80% 80% 20% 20%; }
  100% { transform: translate(-50%, 80vh); opacity: 0; height: 160px; }
}

.drip {
  position: absolute;
  top: 0;
  left: var(--x, 50vw);
  width: 20px;
  height: 60px;
  border-radius: 50%;
  background: radial-gradient(#b30000, #400000);
  animation: dripDown 6s ease-out forwards;
  transform-origin: top center;
  will-change: transform, width, height, opacity;
}

html, body {
  cursor: url("frontend/src/assets/Favicon.png") 16 16, auto; 
}

/* a, button, [role="button"] {
  cursor: url("/claw-tap.png") 16 16, pointer;
} */


@keyframes flicker {
  0%   { filter: none; }
  20%  { filter: hue-rotate(90deg) blur(1px); }
  40%  { filter: hue-rotate(-45deg) brightness(1.5); }
  60%  { filter: none; }
  80%  { filter: hue-rotate(180deg) contrast(2); }
  100% { filter: none; }
}

.flicker:hover {
  animation: flicker 0.3s steps(2) 1;
}



@keyframes glitch {
  0% { clip-path: inset(0 0 0 0); transform: translate(0); }
  20% { clip-path: inset(20% 0 40% 0); transform: translate(-2px, -2px); }
  40% { clip-path: inset(40% 0 20% 0); transform: translate(2px, 2px); }
  60% { clip-path: inset(10% 0 60% 0); transform: translate(-1px, 1px); }
  80% { clip-path: inset(30% 0 30% 0); transform: translate(1px, -1px); }
  100% { clip-path: inset(0 0 0 0); transform: translate(0); }
}

.glitch {
  position: relative;
  display: inline-block;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  overflow: hidden;
}

.glitch::before {
  color: red;
  z-index: -1;
  animation: glitch 0.6s infinite;
}

.glitch::after {
  color: cyan;
  z-index: -2;
  animation: glitch 0.6s infinite reverse;
}


@keyframes twitch {
  0%, 100% { transform: scale(1) rotate(0); }
  20% { transform: scale(1.2, 0.8) rotate(-5deg); }
  40% { transform: scale(0.9, 1.1) rotate(5deg); }
  60% { transform: scale(1.05) rotate(-2deg); }
  80% { transform: scale(0.95) rotate(2deg); }
}

.jumpscare:hover {
  animation: twitch 0.3s linear;
}



@media (prefers-reduced-motion: no-preference) {
  @keyframes lightning {
    0%, 95%, 100% { opacity: 0; }
    96% { opacity: .9; }
    97% { opacity: 0; }
    98% { opacity: .7; }
    99% { opacity: 0; }
  }
  .lightning-global {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: white;
    mix-blend-mode: screen;
    opacity: 0;
    animation: lightning 12s infinite;
    z-index: 5;
  }
}